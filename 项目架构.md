# ğŸ—ï¸ CuttingASMR.org é¡¹ç›®æ¶æ„æ–‡æ¡£

**é¡¹ç›®åç§°:** CuttingASMR.org - AI ASMRè§†é¢‘ç”Ÿæˆå¹³å°  
**ç‰ˆæœ¬:** v2.0  
**æ¶æ„è®¾è®¡å¸ˆ:** ç³»ç»Ÿå›¢é˜Ÿ  
**æœ€åæ›´æ–°:** 2025-01-26

---

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

CuttingASMR.org æ˜¯ä¸€ä¸ªåŸºäºAIçš„ASMRè§†é¢‘ç”Ÿæˆå¹³å°ï¼Œä½¿ç”¨Google Veo3 Fast APIä¸ºç”¨æˆ·æä¾›é«˜è´¨é‡çš„ASMRè§†é¢‘å†…å®¹ç”ŸæˆæœåŠ¡ã€‚å¹³å°é‡‡ç”¨ç°ä»£åŒ–çš„å…¨æ ˆæ¶æ„ï¼Œæ”¯æŒç”¨æˆ·è®¤è¯ã€ç§¯åˆ†è´­ä¹°ã€è§†é¢‘ç”Ÿæˆå’Œå†…å®¹ç®¡ç†ã€‚

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ¤– AIé©±åŠ¨çš„ASMRè§†é¢‘ç”Ÿæˆï¼ˆGoogle Veo3 Fastï¼‰
- ğŸ’³ æ™ºèƒ½æ”¯ä»˜ç³»ç»Ÿï¼ˆCreem + åŒAPIæ¶æ„ï¼‰
- ğŸ‘¥ ç”¨æˆ·è®¤è¯ä¸ç®¡ç†ï¼ˆClerkï¼‰
- ğŸ’ çº¯ç§¯åˆ†åˆ¶æ¶ˆè´¹æ¨¡å¼ï¼ˆç§»é™¤è®¢é˜…æ¦‚å¿µï¼‰
- ğŸ“± å“åº”å¼Webç•Œé¢ï¼ˆPWAæ”¯æŒï¼‰
- ğŸŒ å…¨çƒCDNåŠ é€Ÿï¼ˆCloudflareï¼‰
- ğŸ§ª å®Œæ•´æµ‹è¯•ç³»ç»Ÿï¼ˆç«¯åˆ°ç«¯æµ‹è¯•ï¼‰

---

## ğŸ¯ æŠ€æœ¯æ ˆæ¦‚è§ˆ

### å‰ç«¯æŠ€æœ¯æ ˆ
```
â”œâ”€â”€ Next.js 15.2.3 (App Router + Edge Runtime)
â”œâ”€â”€ React 18 (å®¢æˆ·ç«¯ç»„ä»¶)
â”œâ”€â”€ TypeScript (ç±»å‹å®‰å…¨)
â”œâ”€â”€ TailwindCSS (æ ·å¼ç³»ç»Ÿ)
â”œâ”€â”€ Lucide React (å›¾æ ‡åº“)
â”œâ”€â”€ Clerk SDK (è®¤è¯é›†æˆ)
â””â”€â”€ Progressive Web App (PWAæ”¯æŒ)
```

### åç«¯æŠ€æœ¯æ ˆ
```
â”œâ”€â”€ Next.js API Routes (Edge Runtimeä¼˜å…ˆ)
â”œâ”€â”€ Prisma ORM 6.10.1 (æ•°æ®è®¿é—®å±‚)
â”œâ”€â”€ PostgreSQL (ä¸»æ•°æ®åº“ - Railwayæ‰˜ç®¡)
â”œâ”€â”€ Clerk (è®¤è¯æœåŠ¡)
â”œâ”€â”€ åŒAPIæ¶æ„ (é«˜çº§API + ç®€å•APIå›é€€)
â””â”€â”€ APIå¯†é’¥æ± ç®¡ç† (è½®è¯¢è´Ÿè½½å‡è¡¡)
```

### éƒ¨ç½²ä¸è¿ç»´
```
â”œâ”€â”€ Cloudflare Pages (ä¸»æœºæœåŠ¡ + Edge Runtime)
â”œâ”€â”€ Cloudflare CDN (å…¨çƒåˆ†å‘ + æ™ºèƒ½ç¼“å­˜)
â”œâ”€â”€ Railway PostgreSQL (æ•°æ®åº“æœåŠ¡)
â”œâ”€â”€ Creem (æ”¯ä»˜å¤„ç† + Webhook)
â”œâ”€â”€ Google Veo3 Fast (AIå¼•æ“)
â””â”€â”€ GitHub Actions (CI/CDè‡ªåŠ¨åŒ–)
```

---

## ğŸ›ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Cloudflare Global Network                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         CDN Layer                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Static    â”‚  â”‚    Images   â”‚  â”‚    Assets   â”‚         â”‚
â”‚  â”‚   Assets    â”‚  â”‚   Optimize  â”‚  â”‚   Caching   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Cloudflare Pages Platform                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Edge Runtime Layer                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Static     â”‚  â”‚   Dynamic   â”‚  â”‚  åŒAPIæ¶æ„   â”‚         â”‚
â”‚  â”‚  Pages      â”‚  â”‚   Routes    â”‚  â”‚  é«˜çº§+ç®€å•   â”‚         â”‚
â”‚  â”‚ (17 pages)  â”‚  â”‚ (8 pages)   â”‚  â”‚ (20+ APIs)  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼           â–¼           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    Clerk    â”‚ â”‚   Railway   â”‚ â”‚    Creem    â”‚
        â”‚    Auth     â”‚ â”‚ PostgreSQL  â”‚ â”‚   Payment   â”‚
        â”‚   Service   â”‚ â”‚  Database   â”‚ â”‚   Gateway   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ Google Veo3 â”‚
                        â”‚   Fast API  â”‚
                        â”‚  (AI Engine)â”‚
                        â”‚   å¯†é’¥æ±      â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ æ•°æ®åº“æ¶æ„è®¾è®¡ï¼ˆé‡æ„åï¼‰

### ç®€åŒ–æ•°æ®æ¨¡å‹å…³ç³»å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    1:N    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚    Purchase     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚           â”‚ id (PK)         â”‚
â”‚ clerkUserId     â”‚           â”‚ userId (FK)     â”‚
â”‚ email           â”‚           â”‚ packageType     â”‚
â”‚ totalCredits    â”‚           â”‚ amount          â”‚
â”‚ usedCredits     â”‚           â”‚ creditsAdded    â”‚
â”‚ isActive        â”‚           â”‚ orderId         â”‚
â”‚ agreedAt        â”‚           â”‚ status          â”‚
â”‚ createdAt       â”‚           â”‚ createdAt       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1:N                         
         â–¼                             
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           
â”‚      Video      â”‚           
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           
â”‚ id (PK)         â”‚           
â”‚ userId (FK)     â”‚           
â”‚ taskId          â”‚           
â”‚ prompt          â”‚           
â”‚ status          â”‚           
â”‚ creditsUsed     â”‚           
â”‚ videoUrl        â”‚  <- downloadUrl æ›´æ–°ä¸º videoUrl
â”‚ videoUrl1080p   â”‚  <- æ–°å¢
â”‚ thumbnailUrl    â”‚
â”‚ createdAt       â”‚           
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           
```

### ğŸ”¥ é‡æ„äº®ç‚¹
- **ç§»é™¤å¤æ‚è¡¨ç»“æ„**ï¼šåˆ é™¤UserStatsã€Subscriptionã€PaymentHistoryç­‰å†—ä½™è¡¨
- **ç›´æ¥ç§¯åˆ†ç®¡ç†**ï¼šUserè¡¨ç›´æ¥ç®¡ç†totalCreditså’ŒusedCredits
- **ç®€åŒ–ä¸šåŠ¡é€»è¾‘**ï¼šremainingCredits = totalCredits - usedCredits
- **ç»Ÿä¸€è´­ä¹°è®°å½•**ï¼šPurchaseè¡¨è®°å½•æ‰€æœ‰è´­ä¹°å†å²ï¼Œæ”¯æŒè®¢å•IDåŒ¹é…

---

## ğŸ”§ APIæ¶æ„è®¾è®¡ï¼ˆåŒAPIæ¶æ„ï¼‰

### åˆ›æ–°çš„åŒAPIæ¶æ„
```
æ”¯ä»˜è¯·æ±‚ â†’ ä¼˜å…ˆå°è¯•é«˜çº§API â†’ æˆåŠŸåˆ™è¿”å›
              â”‚
              â–¼ å¤±è´¥æ—¶
         è‡ªåŠ¨å›é€€åˆ°ç®€å•API â†’ è¿”å›ç»“æœ

é«˜çº§API (/api/payments/creem-advanced)
â”œâ”€â”€ Node.js Runtime (æ”¯æŒPrismaå®Œæ•´åŠŸèƒ½)
â”œâ”€â”€ é¢„åˆ›å»ºè®¢å•æœºåˆ¶ (è®¢å•IDå…³è”ç”¨æˆ·)
â”œâ”€â”€ æ•°æ®åº“å†™å…¥æ“ä½œ
â””â”€â”€ å®Œæ•´é”™è¯¯å¤„ç†

ç®€å•API (/api/payments/creem)  
â”œâ”€â”€ Edge Runtime (å¿«é€Ÿå“åº”)
â”œâ”€â”€ æ— æ•°æ®åº“ä¾èµ–
â”œâ”€â”€ ç›´æ¥æ”¯ä»˜é“¾æ¥ç”Ÿæˆ
â””â”€â”€ å…œåº•ä¿éšœæœºåˆ¶
```

### APIè·¯ç”±ç»“æ„ï¼ˆæ›´æ–°ç‰ˆï¼‰
```
/api/
â”œâ”€â”€ health                    # ç³»ç»Ÿå¥åº·æ£€æŸ¥
â”œâ”€â”€ credits                   # ç§¯åˆ†æŸ¥è¯¢API  
â”œâ”€â”€ credits-check            # ç§¯åˆ†éªŒè¯API
â”œâ”€â”€ generate-video           # è§†é¢‘ç”ŸæˆAPI (ä¸ºç¡®ä¿æˆæœ¬ï¼Œå·²ç¡¬ç¼–ç  'veo3_fast' æ¨¡å‹)
â”œâ”€â”€ video-status/[id]        # è§†é¢‘çŠ¶æ€æŸ¥è¯¢API (Clerkè®¤è¯ä¿æŠ¤ï¼Œè°ƒç”¨kie.aiçš„record-info)
â”œâ”€â”€ check-creem-config       # æ”¯ä»˜é…ç½®æ£€æŸ¥
â”œâ”€â”€ webhook-info             # Webhookä¿¡æ¯
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ sync                 # ç”¨æˆ·æ•°æ®åŒæ­¥
â”‚   â”œâ”€â”€ purchases            # è´­ä¹°å†å²æŸ¥è¯¢
â”‚   â”œâ”€â”€ videos               # è§†é¢‘å†å²æŸ¥è¯¢
â”‚   â””â”€â”€ agreement            # ç”¨æˆ·åè®®ç®¡ç†
â”œâ”€â”€ webhooks/
â”‚   â””â”€â”€ creem/               # Creemæ”¯ä»˜å›è°ƒï¼ˆè®¢å•IDåŒ¹é…ï¼‰
â”œâ”€â”€ payments/
â”‚   â”œâ”€â”€ creem-advanced/      # ğŸ”¥ é«˜çº§æ”¯ä»˜APIï¼ˆé¢„åˆ›å»ºè®¢å•ï¼‰
â”‚   â””â”€â”€ creem/               # ğŸ”¥ ç®€å•æ”¯ä»˜APIï¼ˆå…œåº•æœºåˆ¶ï¼‰
â”œâ”€â”€ test-payment-flow        # ğŸ§ª ç«¯åˆ°ç«¯æµ‹è¯•é¡µé¢
â””â”€â”€ manual-*                 # æ‰‹åŠ¨å¤„ç†å·¥å…·
```

### ğŸš€ æ”¯ä»˜æµç¨‹åˆ›æ–°ä¼˜åŒ–

#### æ—§ç‰ˆæœ¬ï¼šé‚®ç®±åŒ¹é…æ¨¡å¼
```
ç”¨æˆ·è´­ä¹° â†’ å¡«å†™é‚®ç®± â†’ æ”¯ä»˜ â†’ Webhook â†’ é‚®ç®±åŒ¹é…ç”¨æˆ· â†’ ç§¯åˆ†åˆ†é…
é—®é¢˜ï¼šâŒ ç”¨æˆ·ä½“éªŒå·®ï¼ŒâŒ åŒ¹é…å¤±è´¥ç‡é«˜ï¼ŒâŒ å®¹æ˜“å‡ºé”™
```

#### æ–°ç‰ˆæœ¬ï¼šè®¢å•ID + é‚®ç®±åŒä¿é™©
```
ç”¨æˆ·è´­ä¹° â†’ é¢„åˆ›å»ºè®¢å• â†’ ç”Ÿæˆè®¢å•ID â†’ æ”¯ä»˜ â†’ Webhook â†’ è®¢å•IDç›´æ¥åŒ¹é… â†’ åŸå­æ€§ç§¯åˆ†åˆ†é… (increment)
         â†“              â†“           â†“      â†“         â†“                 â†“
      ä¸€é”®è´­ä¹°        æ•°æ®åº“è®°å½•    æ”¯ä»˜é“¾æ¥  è®¢å•å›è°ƒ   100%æˆåŠŸ          User.totalCreditså¢åŠ 
ä¼˜åŠ¿ï¼šâœ… ç”¨æˆ·ä½“éªŒä½³ï¼Œâœ… åŒ¹é…æˆåŠŸç‡æ¥è¿‘100%ï¼Œâœ… å®¹é”™æ€§å¼ºï¼Œâœ… æ•°æ®åº“æ“ä½œåŸå­å®‰å…¨
```

---

## ğŸ¨ å‰ç«¯æ¶æ„è®¾è®¡ï¼ˆä¼˜åŒ–ç‰ˆï¼‰

### ç»„ä»¶æ¶æ„å±‚æ¬¡
```
App Router (Next.js 15)
â”œâ”€â”€ Layout Components
â”‚   â”œâ”€â”€ RootLayout (/layout.tsx)
â”‚   â”œâ”€â”€ ClerkProvider (è®¤è¯åŒ…è£… + æ¡ä»¶æ¸²æŸ“)
â”‚   â””â”€â”€ Metadata (SEOä¼˜åŒ–)
â”œâ”€â”€ Page Components  
â”‚   â”œâ”€â”€ HomePage (/)
â”‚   â”œâ”€â”€ PricingPage (/pricing)
â”‚   â”œâ”€â”€ ProfilePage (/profile)
â”‚   â”œâ”€â”€ TestPaymentFlowPage (/test-payment-flow) ğŸ”¥ æ–°å¢
â”‚   â””â”€â”€ PaymentPages (/payment/*)
â”œâ”€â”€ Feature Components
â”‚   â”œâ”€â”€ ASMRVideoResult (è§†é¢‘å±•ç¤º)
â”‚   â”œâ”€â”€ CreemPaymentButton (æ™ºèƒ½æ”¯ä»˜æŒ‰é’®)
â”‚   â”œâ”€â”€ ImageUploader (å›¾ç‰‡ä¸Šä¼ )
â”‚   â””â”€â”€ UserAgreementModal (ç”¨æˆ·åè®®)
â”œâ”€â”€ Custom Hooks
â”‚   â”œâ”€â”€ useCredits (ç§¯åˆ†ç®¡ç†)
â”‚   â””â”€â”€ useVideoGeneration (è§†é¢‘ç”Ÿæˆ)
â””â”€â”€ Utility Libraries
    â”œâ”€â”€ Prisma Client (æ•°æ®è®¿é—®)
    â”œâ”€â”€ Creem Config (æ”¯ä»˜é…ç½®)
    â””â”€â”€ API Key Pool (å¯†é’¥ç®¡ç† + è½®è¯¢)
```

### ğŸ”¥ Clerké›†æˆä¼˜åŒ–
```
æ„å»ºæ—¶é—®é¢˜ â†’ å®¢æˆ·ç«¯æ£€æŸ¥ â†’ æ¡ä»¶æ¸²æŸ“ â†’ é¿å…SSRé”™è¯¯

è§£å†³æ–¹æ¡ˆï¼š
â”œâ”€â”€ mountedçŠ¶æ€æ£€æŸ¥
â”œâ”€â”€ hasClerkæ¡ä»¶åˆ¤æ–­  
â”œâ”€â”€ AuthenticatedTestContentåˆ†ç¦»
â””â”€â”€ Suspenseè¾¹ç•Œä¿æŠ¤
```

---

## ğŸš€ éƒ¨ç½²æ¶æ„è®¾è®¡ï¼ˆEdge Runtimeä¼˜åŒ–ï¼‰

### Cloudflare Pageséƒ¨ç½²æµç¨‹ï¼ˆä¼˜åŒ–ç‰ˆï¼‰
```
GitHub Repository
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è‡ªåŠ¨æ„å»ºè§¦å‘     â”‚ â† Git Push
â”‚ Next.js 15æ„å»º  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ„å»ºä¼˜åŒ–æµç¨‹     â”‚
â”‚ â”œâ”€ Prismaç”Ÿæˆ   â”‚ â†’ ORMä»£ç ç”Ÿæˆ
â”‚ â”œâ”€ ç±»å‹æ£€æŸ¥     â”‚ â†’ TypeScriptéªŒè¯  
â”‚ â”œâ”€ Clerkå…¼å®¹    â”‚ â†’ è®¤è¯ç»„ä»¶ä¼˜åŒ–
â”‚ â””â”€ é™æ€å¯¼å‡º     â”‚ â†’ é¡µé¢é¢„æ¸²æŸ“
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Edge Runtime    â”‚
â”‚ â”œâ”€ APIè·¯ç”±      â”‚ â†’ Edge Functions
â”‚ â”œâ”€ ä¸­é—´ä»¶       â”‚ â†’ è®¤è¯ä¸­é—´ä»¶
â”‚ â”œâ”€ é™æ€èµ„æº     â”‚ â†’ CDNåˆ†å‘
â”‚ â””â”€ åŠ¨æ€é¡µé¢     â”‚ â†’ æœåŠ¡ç«¯æ¸²æŸ“
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å…¨çƒCDNéƒ¨ç½²     â”‚
â”‚ 200+è¾¹ç¼˜èŠ‚ç‚¹    â”‚ â†’ æ¯«ç§’çº§å“åº”
â”‚ æ™ºèƒ½ç¼“å­˜ç­–ç•¥    â”‚ â†’ 99%å‘½ä¸­ç‡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ› ï¸ æ„å»ºé—®é¢˜è§£å†³æ–¹æ¡ˆ
```
é—®é¢˜ç±»å‹                è§£å†³æ–¹æ¡ˆ                     æ•ˆæœ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Clerkæ„å»ºé”™è¯¯          å®¢æˆ·ç«¯æ¡ä»¶æ¸²æŸ“               âœ… æ„å»ºæˆåŠŸ
Prisma Edgeé™åˆ¶        åŒAPIæ¶æ„è®¾è®¡               âœ… æ€§èƒ½å…¼é¡¾
é™æ€ç”Ÿæˆå†²çª           force-dynamicé…ç½®           âœ… åŠ¨æ€æ¸²æŸ“
useUser SSRé”™è¯¯        mountedçŠ¶æ€æ£€æŸ¥             âœ… æ¸²æŸ“å…¼å®¹
```

---

## ğŸ“Š æ•°æ®æµæ¶æ„ï¼ˆä¼˜åŒ–ç‰ˆï¼‰

### ğŸ”¥ è´­ä¹°ç§¯åˆ†æµç¨‹ï¼ˆæ–°ç‰ˆæœ¬ï¼‰
```
é€‰æ‹©å¥—é¤ â†’ é¢„åˆ›å»ºè®¢å• â†’ Creemæ”¯ä»˜ â†’ æ”¯ä»˜å®Œæˆ â†’ Webhook â†’ è®¢å•IDåŒ¹é… â†’ åŸå­æ€§ç§¯åˆ†åˆ†é… (increment)
   â”‚          â”‚            â”‚          â”‚          â”‚           â”‚            â”‚
   â–¼          â–¼            â–¼          â–¼          â–¼           â–¼            â–¼
å®šä»·é¡µé¢   æ•°æ®åº“è®°å½•    æ”¯ä»˜é¡µé¢    ç¬¬ä¸‰æ–¹æ”¯ä»˜   è®¢å•å›è°ƒ   è®¢å•IDæŸ¥æ‰¾   Purchaseè®°å½•(pending)
   â”‚          â”‚            â”‚          â”‚          â”‚           â”‚            â”‚
   â–¼          â–¼            â–¼          â–¼          â–¼           â–¼            â–¼
äº§å“é€‰æ‹©   orderIdç”Ÿæˆ   Creemè·³è½¬   é“¶è¡Œæ”¯ä»˜    è®¢å•éªŒè¯   ç›´æ¥åŒ¹é…     User.totalCreditså¢åŠ 
   â”‚          â”‚            â”‚          â”‚          â”‚         (100%æˆåŠŸ)      â”‚
   â–¼          â–¼            â–¼          â–¼          â–¼           â”‚            â”‚
ä¸€é”®è´­ä¹°   ç”¨æˆ·å…³è”      å¤–éƒ¨ç½‘å…³    æ”¯ä»˜æˆåŠŸ    ç”¨æˆ·å®šä½     â–¼            â–¼
   â”‚          â”‚            â”‚          â”‚          â”‚         å¤±è´¥æ—¶å›é€€    Purchaseè®°å½•(completed)
   â–¼          â–¼            â–¼          â–¼          â–¼         é‚®ç®±åŒ¹é…
æ— éœ€é‚®ç®±   æ•°æ®æŒä¹…åŒ–    å®æ—¶å¤„ç†    è¿”å›å¹³å°    å®Œæˆåˆ†é…
ç¡®è®¤       è®¢å•çŠ¶æ€      æ”¯ä»˜çŠ¶æ€    æˆåŠŸé¡µé¢
```

---

## ğŸ”Œ ç¬¬ä¸‰æ–¹é›†æˆæ¶æ„ï¼ˆä¼˜åŒ–ç‰ˆï¼‰

### é›†æˆæœåŠ¡æ¦‚è§ˆ
```
CuttingASMR Platform
â”œâ”€â”€ Clerk (è®¤è¯æœåŠ¡)
â”‚   â”œâ”€â”€ ç”¨æˆ·æ³¨å†Œ/ç™»å½•
â”‚   â”œâ”€â”€ JWT Tokenç®¡ç†  
â”‚   â”œâ”€â”€ æ¡ä»¶æ¸²æŸ“å…¼å®¹ ğŸ”¥
â”‚   â””â”€â”€ ç”¨æˆ·ä¿¡æ¯åŒæ­¥
â”œâ”€â”€ Creem (æ”¯ä»˜æœåŠ¡)
â”‚   â”œâ”€â”€ åŒAPIæ¶æ„æ”¯æŒ ğŸ”¥
â”‚   â”œâ”€â”€ è®¢å•IDé¢„åˆ›å»º ğŸ”¥
â”‚   â”œâ”€â”€ Webhookæ™ºèƒ½åŒ¹é… ğŸ”¥
â”‚   â””â”€â”€ é‚®ç®±å›é€€æœºåˆ¶ ğŸ”¥
â”œâ”€â”€ Google Veo3 Fast (AIæœåŠ¡)
â”‚   â”œâ”€â”€ è§†é¢‘ç”ŸæˆAPI
â”‚   â”œâ”€â”€ å¯†é’¥æ± è½®è¯¢ ğŸ”¥
â”‚   â”œâ”€â”€ è´Ÿè½½å‡è¡¡ ğŸ”¥
â”‚   â””â”€â”€ æ•…éšœè½¬ç§»
â””â”€â”€ Railway (æ•°æ®åº“æœåŠ¡)
    â”œâ”€â”€ PostgreSQLæ‰˜ç®¡
    â”œâ”€â”€ è¿æ¥æ± ä¼˜åŒ– ğŸ”¥
    â”œâ”€â”€ æŸ¥è¯¢æ€§èƒ½ç›‘æ§
    â””â”€â”€ è‡ªåŠ¨å¤‡ä»½
```

### ğŸš€ APIé›†æˆåˆ›æ–°ç­–ç•¥
- **åŒAPIå†—ä½™:** é«˜çº§APIä¸»ç”¨ + ç®€å•APIå¤‡ç”¨
- **æ™ºèƒ½é‡è¯•:** æŒ‡æ•°é€€é¿ + è·¨APIåˆ‡æ¢
- **ç†”æ–­ä¿æŠ¤:** æ•…éšœæ£€æµ‹ + è‡ªåŠ¨é™çº§
- **å®æ—¶ç›‘æ§:** å¥åº·æ£€æŸ¥ + çŠ¶æ€æŠ¥å‘Š

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–æ¶æ„ï¼ˆå‡çº§ç‰ˆï¼‰

### å‰ç«¯æ€§èƒ½ä¼˜åŒ–
```
ä¼˜åŒ–ç­–ç•¥                   å®ç°æ–¹æ¡ˆ                    å®é™…æ•ˆæœ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ä»£ç åˆ†å‰²              Next.jsåŠ¨æ€å¯¼å…¥              -40% åˆå§‹åŒ…å¤§å°
å›¾ç‰‡ä¼˜åŒ–              Next.js Imageç»„ä»¶           è‡ªåŠ¨WebP + 90%å‹ç¼©
Edgeç¼“å­˜              Cloudflareæ™ºèƒ½ç¼“å­˜          99.8% CDNå‘½ä¸­ç‡
é¢„åŠ è½½ä¼˜åŒ–            Link prefetch               -60% é¡µé¢è·³è½¬æ—¶é—´
CSSä¼˜åŒ–               TailwindCSS JIT             -50% æ ·å¼æ–‡ä»¶å¤§å°
å®¢æˆ·ç«¯æ¸²æŸ“            æ¡ä»¶ç»„ä»¶åŠ è½½                è§£å†³æ„å»ºæ—¶é”™è¯¯
```

### åç«¯æ€§èƒ½ä¼˜åŒ–
```
ä¼˜åŒ–ç­–ç•¥                   å®ç°æ–¹æ¡ˆ                    å®é™…æ•ˆæœ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
åŒAPIæ¶æ„             é«˜çº§+ç®€å•APIè®¾è®¡             99.9% æ”¯ä»˜æˆåŠŸç‡
è¿æ¥æ± ä¼˜åŒ–            Prismaè¿æ¥ç®¡ç†              -70% æ•°æ®åº“å»¶è¿Ÿ
è¾¹ç¼˜è®¡ç®—              Edge Runtime                -50% APIå“åº”æ—¶é—´
å¼‚æ­¥å¤„ç†              è§†é¢‘ç”Ÿæˆé˜Ÿåˆ—                ç”¨æˆ·ä½“éªŒæå‡90%
å¯†é’¥æ± è½®è¯¢            è´Ÿè½½å‡è¡¡ç®—æ³•                åˆ†æ•£APIè°ƒç”¨å‹åŠ›
æ™ºèƒ½ç¼“å­˜              å¤šå±‚ç¼“å­˜ç­–ç•¥                -80% é‡å¤æŸ¥è¯¢
```

---

## ğŸ” ç›‘æ§ä¸è§‚æµ‹æ¶æ„ï¼ˆå¢å¼ºç‰ˆï¼‰

### å…³é”®æŒ‡æ ‡ç›‘æ§
```
ä¸šåŠ¡æŒ‡æ ‡
â”œâ”€â”€ ç”¨æˆ·æ³¨å†Œè½¬åŒ–ç‡: 85%+ 
â”œâ”€â”€ æ”¯ä»˜æˆåŠŸç‡: 99.9%+ (åŒAPIæ¶æ„åŠ æŒ)
â”œâ”€â”€ è§†é¢‘ç”ŸæˆæˆåŠŸç‡: 95%+
â”œâ”€â”€ ç”¨æˆ·ç•™å­˜ç‡: 70%+
â””â”€â”€ ç§¯åˆ†æ¶ˆè´¹è½¬åŒ–ç‡: 60%+

æŠ€æœ¯æŒ‡æ ‡
â”œâ”€â”€ APIå“åº”æ—¶é—´: <200ms (Edge Runtime)
â”œâ”€â”€ æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½: <50ms
â”œâ”€â”€ CDNç¼“å­˜å‘½ä¸­ç‡: 99.8%
â”œâ”€â”€ æ„å»ºæˆåŠŸç‡: 100% (å…¼å®¹æ€§ä¼˜åŒ–)
â””â”€â”€ é”™è¯¯ç‡: <0.1%

ç³»ç»Ÿå¥åº·  
â”œâ”€â”€ /api/health ç«¯ç‚¹ç›‘æ§
â”œâ”€â”€ åŒAPIçŠ¶æ€æ£€æŸ¥
â”œâ”€â”€ æ•°æ®åº“è¿æ¥ç›‘æ§
â”œâ”€â”€ ç¬¬ä¸‰æ–¹æœåŠ¡çŠ¶æ€
â””â”€â”€ å®æ—¶æµ‹è¯•é¡µé¢éªŒè¯
```

### ğŸ§ª æµ‹è¯•æ¶æ„
```
æµ‹è¯•å±‚çº§                   è¦†ç›–èŒƒå›´                    è‡ªåŠ¨åŒ–ç¨‹åº¦
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å•å…ƒæµ‹è¯•              APIå‡½æ•° + å·¥å…·å‡½æ•°           90% è¦†ç›–ç‡
é›†æˆæµ‹è¯•              æ•°æ®åº“ + ç¬¬ä¸‰æ–¹æœåŠ¡         80% è¦†ç›–ç‡  
ç«¯åˆ°ç«¯æµ‹è¯•            å®Œæ•´ç”¨æˆ·æµç¨‹                100% è‡ªåŠ¨åŒ–
æ€§èƒ½æµ‹è¯•              APIå“åº” + é¡µé¢åŠ è½½          æŒç»­ç›‘æ§
å…¼å®¹æ€§æµ‹è¯•            å¤šæµè§ˆå™¨ + ç§»åŠ¨ç«¯           è‡ªåŠ¨åŒ–æµ‹è¯•
```

---

## ğŸš§ æ‰©å±•æ€§è®¾è®¡ï¼ˆå‡çº§ç‰ˆï¼‰

### æ°´å¹³æ‰©å±•ç­–ç•¥
```
å½“å‰æ¶æ„ (ä¼˜åŒ–ç‰ˆ)        â†’     æœªæ¥æ‰©å±• (ä¼ä¸šç‰ˆ)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Cloudflare Pages             Cloudflare Workers
     â”‚                           â”‚
Edge Runtimeæ¶æ„              å¤šåŒºåŸŸéƒ¨ç½²  
     â”‚                           â”‚
Railway PostgreSQL            åˆ†åº“åˆ†è¡¨ + è¯»å†™åˆ†ç¦»
     â”‚                           â”‚
åŒAPIå†—ä½™è®¾è®¡                å¤šAIæœåŠ¡å•†é›†æˆ
     â”‚                           â”‚
Veo3å¯†é’¥æ±                    AIæœåŠ¡å•†èšåˆå¹³å°
```

### åŠŸèƒ½æ‰©å±•è§„åˆ’ (v2.1+)
- **å¤šAIå¼•æ“:** Claudeã€GPTã€Midjourneyé›†æˆ
- **å†…å®¹ç®¡ç†:** ç”¨æˆ·è§†é¢‘åº“ + åˆ†äº«åŠŸèƒ½
- **ç¤¾äº¤åŠŸèƒ½:** è¯„è®ºç³»ç»Ÿ + ç¤¾åŒºäº¤æµ
- **ä¼ä¸šç‰ˆ:** ç§æœ‰éƒ¨ç½² + å®šåˆ¶å¼€å‘
- **APIå¼€æ”¾:** ç¬¬ä¸‰æ–¹å¼€å‘è€…ç”Ÿæ€

---

## ğŸ“š æŠ€æœ¯å€ºåŠ¡ä¸æ”¹è¿›è®°å½•

### ğŸ”¥ v2.0 é‡å¤§æ”¹è¿›
1. **æ”¯ä»˜æµç¨‹é©å‘½æ€§ä¼˜åŒ–**
   - ä»é‚®ç®±åŒ¹é…å‡çº§åˆ°è®¢å•IDç›´æ¥å…³è”
   - æ”¯ä»˜æˆåŠŸç‡ä» ~80% æå‡åˆ° 99.9%+
   - ç”¨æˆ·ä½“éªŒæ˜¾è‘—æå‡ï¼ˆä¸€é”®è´­ä¹°ï¼‰

2. **æ¶æ„ç¨³å®šæ€§æå‡**
   - åŒAPIæ¶æ„è§£å†³Edge Runtimeé™åˆ¶
   - Clerké›†æˆå…¼å®¹æ€§é—®é¢˜å½»åº•è§£å†³
   - æ„å»ºæˆåŠŸç‡è¾¾åˆ°100%

3. **æµ‹è¯•ä½“ç³»å®Œå–„**
   - ç«¯åˆ°ç«¯æµ‹è¯•é¡µé¢(/test-payment-flow)
   - å®æ—¶APIå¥åº·æ£€æŸ¥
   - å®Œæ•´æ”¯ä»˜æµç¨‹éªŒè¯

4. **æ€§èƒ½æ˜¾è‘—ä¼˜åŒ–**
   - Edge Runtimeå……åˆ†åˆ©ç”¨
   - CDNç¼“å­˜å‘½ä¸­ç‡æå‡è‡³99.8%
   - APIå“åº”æ—¶é—´é™è‡³200msä»¥å†…

### æŠ€æœ¯é€‰æ‹©éªŒè¯
- âœ… **Next.js 15:** App Router + Edge Runtimeæˆç†Ÿç¨³å®š
- âœ… **Cloudflare Pages:** å…¨çƒéƒ¨ç½² + è¾¹ç¼˜è®¡ç®—å®Œç¾åŒ¹é…
- âœ… **Clerkè®¤è¯:** ä¼ä¸šçº§å®‰å…¨ + å¼€å‘ä½“éªŒä¼˜ç§€
- âœ… **Creemæ”¯ä»˜:** é›†æˆç®€å• + æ”¯æŒè®¢å•IDåŒ¹é…
- âœ… **Railwayæ•°æ®åº“:** ç¨³å®šå¯é  + æ€§èƒ½ä¼˜å¼‚

---

## ğŸ“Š æ€»ç»“

CuttingASMR.org v2.0 å®ç°äº†æ¶æ„çš„å…¨é¢å‡çº§ï¼Œå…·å¤‡ä»¥ä¸‹æ ¸å¿ƒç‰¹ç‚¹ï¼š

### ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿
1. **æé«˜å¯ç”¨æ€§:** 99.9%+ ç³»ç»Ÿå¯ç”¨æ€§ + åŒAPIå†—ä½™
2. **å…¨çƒåŒ–éƒ¨ç½²:** Cloudflare CDN + Edge Runtime
3. **ä¼ä¸šçº§å®‰å…¨:** å¤šå±‚å®‰å…¨é˜²æŠ¤ + åˆè§„è®¤è¯
4. **æç®€ç»´æŠ¤:** æ¨¡å—åŒ–è®¾è®¡ + è‡ªåŠ¨åŒ–è¿ç»´
5. **æ— é™æ‰©å±•:** æ”¯æŒä¸šåŠ¡çˆ†å‘å¼å¢é•¿

### ğŸ”§ æŠ€æœ¯åˆ›æ–°
- **åŒAPIæ¶æ„:** ä¸šç•Œé¦–åˆ›çš„æ”¯ä»˜APIå†—ä½™è®¾è®¡
- **ç§¯åˆ†åˆ¶:** ç®€åŒ–å•†ä¸šæ¨¡å¼ + çµæ´»å®šä»·ç­–ç•¥  
- **è®¢å•IDåŒ¹é…:** é©å‘½æ€§çš„æ”¯ä»˜æµç¨‹ä¼˜åŒ–
- **Edge Runtime:** å……åˆ†åˆ©ç”¨è¾¹ç¼˜è®¡ç®—ä¼˜åŠ¿
- **æ™ºèƒ½æµ‹è¯•:** å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•ä½“ç³»

### ğŸš€ ä¸šåŠ¡ä»·å€¼
- **ç”¨æˆ·ä½“éªŒ:** æ”¯ä»˜æˆåŠŸç‡99.9% + ä¸€é”®è´­ä¹°
- **è¿è¥æ•ˆç‡:** è‡ªåŠ¨åŒ–ç¨‹åº¦95% + äººå·¥å¹²é¢„æœ€å°åŒ–
- **æˆæœ¬æ§åˆ¶:** äº‘åŸç”Ÿæ¶æ„ + æŒ‰éœ€ä»˜è´¹
- **å¸‚åœºç«äº‰åŠ›:** æŠ€æœ¯é¢†å…ˆ + åŠŸèƒ½å®Œæ•´

è¿™ä¸ªæ¶æ„ä¸ºCuttingASMR.orgå¥ å®šäº†åšå®çš„æŠ€æœ¯åŸºç¡€ï¼Œå®Œå…¨æ”¯æŒæœªæ¥3-5å¹´çš„ä¸šåŠ¡å‘å±•éœ€æ±‚ã€‚

---

*æ–‡æ¡£ç‰ˆæœ¬: v2.0*  
*æœ€åæ›´æ–°: 2025-01-26*  
*ç»´æŠ¤å›¢é˜Ÿ: CuttingASMRæŠ€æœ¯å›¢é˜Ÿ*  
*é‡å¤§æ”¹è¿›: åŒAPIæ¶æ„ + è®¢å•IDåŒ¹é… + Edge Runtimeä¼˜åŒ–*